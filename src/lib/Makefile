#******************************************************************************#
#*                                                                            *#
#* src/lib/Makefile                                                           *#
#*                                                                 2019/04/21 *#
#* Copyright (C) 2016-2019 Mochi.                                             *#
#*                                                                            *#
#******************************************************************************#
#******************************************************************************#
#* 設定                                                                       *#
#******************************************************************************#
# ビルドディレクトリ
BUILD_DIR = ../../build
# オブジェクトディレクトリ
OBJ_DIR   = $(BUILD_DIR)/obj/lib

# サブディレクトリ
SUB_DIRS  = libc
SUB_DIRS += libMk


#******************************************************************************#
#* phonyターゲット                                                            *#
#******************************************************************************#
# サブディレクトリのmake実行
.PHONY: all
all:
ifdef SUB_DIRS
	@for subdir in $(SUB_DIRS); \
	do \
	    $(MAKE) -C $$subdir all; \
	done
endif

# 全生成ファイルの削除
.PHONY: clean
clean:
ifdef SUB_DIRS
	@for subdir in $(SUB_DIRS); \
	do \
	    $(MAKE) -C $$subdir clean; \
	done
endif
	-rm -rf $(OBJ_DIR)


#******************************************************************************#
