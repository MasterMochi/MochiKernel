#******************************************************************************#
#* src/tools/makeimg/Makefile                                                 *#
#*                                                                 2018/12/09 *#
#* Copyright (C) 2017-2018 Mochi.                                             *#
#******************************************************************************#
#******************************************************************************#
#* 設定                                                                       *#
#******************************************************************************#
# 実行ファイル
PROG = makeimg

# ソースコード
SRCS = makeimg.c

# ビルドディレクトリ
BUILD_DIR = ../../../build
# ツールディレクトリ
TOOL_DIR  = $(BUILD_DIR)/tools

# Cフラグ
CFLAGS  = -m32
# LDフラグ
LDFLAGS =
# LDライブラリフラグ
LDLIBS  = -lMLib


#******************************************************************************#
#* 定義                                                                       *#
#******************************************************************************#
# インクルードディレクトリ
CFLAGS  += -I$(BUILD_DIR)/include
# ライブラリディレクトリ
LDFLAGS += -L$(BUILD_DIR)/lib


#******************************************************************************#
#* phonyターゲット                                                            *#
#******************************************************************************#
# コンパイル
.PHONY: all
all: $(TOOL_DIR) $(TOOL_DIR)/$(PROG) Makefile

# 全生成ファイルの削除
.PHONY: clean
clean:
	-rm -rf $(TOOL_DIR)/$(PROG)


#******************************************************************************#
#* 生成規則                                                                   *#
#******************************************************************************#
# ディレクトリ
$(TOOL_DIR):
	mkdir -p $@

# 実行ファイル
$(TOOL_DIR)/$(PROG): $(SRCS) Makefile
	$(CC) $(CFLAGS) -o $@ $(SRCS) $(LDFLAGS) $(LDLIBS)


#******************************************************************************#
